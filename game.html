function draw() {
  if (!isGameRunning) return;

  ctx.clearRect(0, 0, canvas.width, canvas.height);

  drawBricks();
  drawBall();
  drawPaddle();
  collisionDetection();

  // Ball movement
  ballX += ballDX;
  ballY += ballDY;

  // Ball collision with walls
  if (ballX + ballRadius > canvas.width || ballX - ballRadius < 0) {
    ballDX = -ballDX;
    console.log('Ball hit a side wall');
  }
  if (ballY - ballRadius < 0) {
    ballDY = -ballDY;
    console.log('Ball hit the top wall');
  }

  // Ball collision with paddle
  if (
    ballY + ballRadius > canvas.height - paddleHeight - 20 &&
    ballX > paddleX &&
    ballX < paddleX + paddleWidth
  ) {
    ballDY = -ballDY;
    console.log('Ball hit the paddle');
  }

  // Game over condition
  if (ballY + ballRadius > canvas.height) {
    isGameRunning = false;
    canvas.style.display = 'none';
    gameOverScreen.style.display = 'flex';
    console.log('Game Over');
    return;
  }

  requestAnimationFrame(draw);
}

